#!/bin/bash

set -e

sudo aptitude update
sudo aptitude upgrade -y
sudo aptitude install -y \
                 build-essential bison openssl libreadline5 libreadline-dev  \
                 curl zlib1g zlib1g-dev libssl-dev libsqlite3-0        \
                 libsqlite3-dev sqlite3 libreadline-dev libxml2-dev libxslt-dev \
                 unzip rsync libfuse-dev fuse-utils libavahi-compat-libdnssd-dev

cd $HOME

mkdir -p .vim/bundle
cd .vim/bundle
git clone https://github.com/MarcWeber/vim-addon-manager.git
git clone https://github.com/MarcWeber/vim-addon-manager-known-repositories.git
cd -

set +e
bash < <( curl "http://rvm.beginrescueend.com/releases/rvm-install-head" )
source .bash_profile
set -e

rvm install ree
rvm ree --default
gem install bundler

bundle install --local --path vendor/bundle
